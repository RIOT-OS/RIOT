APPLICATION = driver_mag3110
include ../Makefile.tests_common

FEATURES_REQUIRED = periph_i2c

USEMODULE += mag3110
USEMODULE += vtimer

ifneq (,$(TEST_MAG3110_I2C))
  CFLAGS += -DTEST_MAG3110_I2C=$(TEST_MAG3110_I2C)
else
  CFLAGS += -DTEST_MAG3110_I2C=I2C_0
endif
ifneq (,$(TEST_MAG3110_ADDR))
  CFLAGS += -DTEST_MAG3110_ADDR=$(TEST_MAG3110_ADDR)
else
  CFLAGS += -DTEST_MAG3110_ADDR=0x0E
endif

ifneq (,$(TEST_MAG3110_USER_OFFSET_X))
  CFLAGS += -DTEST_MAG3110_USER_OFFSET_X=$(TEST_MAG3110_USER_OFFSET_X)
else
  CFLAGS += -DTEST_MAG3110_USER_OFFSET_X=-2000
endif
ifneq (,$(TEST_MAG3110_USER_OFFSET_Y))
  CFLAGS += -DTEST_MAG3110_USER_OFFSET_Y=$(TEST_MAG3110_USER_OFFSET_Y)
else
  CFLAGS += -DTEST_MAG3110_USER_OFFSET_Y=180
endif
ifneq (,$(TEST_MAG3110_USER_OFFSET_Z))
  CFLAGS += -DTEST_MAG3110_USER_OFFSET_Z=$(TEST_MAG3110_USER_OFFSET_Z)
else
  CFLAGS += -DTEST_MAG3110_USER_OFFSET_Z=210
endif

include $(RIOTBASE)/Makefile.include
