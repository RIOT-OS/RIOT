include ../Makefile.tests_common

USEMODULE += embunit
USEMODULE += test_utils_interactive_sync

USEMODULE += ztimer_usec
USEMODULE += printf_float

CSV ?= 0


USEMODULE += rbpf

NUM_INSTRUCTIONS ?= 10000
BPF_BRANCHES_ALLOWED = $(NUM_INSTRUCTIONS)

CFLAGS += -I$(CURDIR) -DNUM_INSTRUCTIONS=$(NUM_INSTRUCTIONS) -DBPF_COQ=$(BPF_COQ) -DCONFIG_BPF_BRANCHES_ALLOWED=$(RBPF_BRANCHES_ALLOWED)
CFLAGS += -DJITTED_LIST_MAX_LENGTH=$(JITTED_LIST_MAX_LENGTH) -DENTRY_POINT_MAX_LENGTH=$(ENTRY_POINT_MAX_LENGTH)
CFLAGS += -DCSV_OUT=$(CSV)

include $(RIOTBASE)/Makefile.include
