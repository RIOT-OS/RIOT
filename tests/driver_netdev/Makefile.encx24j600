FEATURES_REQUIRED += periph_spi periph_gpio

BOARD_INSUFFICIENT_MEMORY += msb-430h stm32f0discovery weio z1

USEMODULE += encx24j600
USEMODULE += gnrc_netdev2
USEMODULE += gnrc_netdev_default
USEMODULE += auto_init_gnrc_netif
USEMODULE += gnrc_ipv6_router_default
USEMODULE += gnrc_icmpv6_echo
USEMODULE += shell
USEMODULE += shell_commands
USEMODULE += ps

# set board specific peripheral configurations
ifneq (,$(filter nucleo-f334,$(BOARD)))
# these settings are probably valid for PoEll-i on most nucleo boards, but
# tested only on nucleo-f334
  ENCX24_SPI ?= SPI_0
  ENCX24_CS  ?= GPIO_PIN\(PORT_C,10\)
  ENCX24_INT ?= GPIO_PIN\(PORT_D,2\)
endif

# fallback: set SPI bus and pins to default values
ENCX24_SPI ?= SPI_0
ENCX24_CS  ?= GPIO_PIN\(0,0\)
ENCX24_INT ?= GPIO_PIN\(0,1\)
# export SPI and pins
CFLAGS += -DENCX24J600_SPI=$(ENCX24_SPI)
CFLAGS += -DENCX24J600_CS=$(ENCX24_CS)
CFLAGS += -DENCX24J600_INT=$(ENCX24_INT)

DRIVERS += x
