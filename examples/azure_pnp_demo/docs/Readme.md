# Setting up Azure IoT Hub and DPS

## Creating Resource Group
<br/>
<img src="images/azure/create_resource_group.png" alt="create_resource_group" width="500"/> <br/>

## Creating IoT Hub
1. Basic setup 
<br/>
<img src="images/azure/iot_hub_creation.png" alt="iot_hub_creation.png" width="500"/> <br/>
2. Networking
<br/>
<img src="images/azure/iot_hub_creation_networking.PNG" alt="iot_hub_creation_networking.PNG" width="500"/> <br/>
3. Managements
<br/>
<img src="images/azure/iot_hub_creation_management.png" alt="iot_hub_creation_management.png" width="500"/> <br/>
4. Once successfully created, and overview page will be presented as following
<br/>
<img src="images/azure/iot_hub_creation_overview.png" alt="iot_hub_creation_overview.png" width="500"/> <br/>



## Creating DPS

1. Basic setup
<br/>
<img src="images/azure/dps_creation_1.png" alt="dps_creation_1.png" width="500"/> <br/>

2. Networking
<br/>
<img src="images/azure/dps_creation_2.png" alt="dps_creation_2.png" width="500"/> <br/>

3. Managements
<br/>
<img src="images/azure/dps_creation_3.png" alt="dps_creation_3.png" width="500"/> <br/>

4. Once successfully created, an overview page will be shown as the following
<br/>
<img src="images/azure/dps_creation_4.png" alt="dps_creation_4.png" width="500"/> <br/>


### Uploading self-signed root CA generated by the script
<img src="images/azure/root_CA_upload.png" alt="root_CA_upload.png" width="500"/> <br/>

### Uploading verification certificate for Proof-of-possesion 
Use the verification script with the verification code, it will generate a verification certificate.<br/>
<img src="images/azure/az_upload_verification_certificate.png" alt="az_upload_verification_certificate.png" width="500"/> <br/>

## Creating enrollment group

1. Adding a new enrollment group
<br/>
<img src="images/azure/open_enrollment_groups.PNG" alt="open_enrollment_groups.PNG" width="500"/> <br/>
2. Configuring attestation mechanism, upload the intermediate certificate here
<br/>
<img src="images/azure/az_create_enrollment_group_01.png" alt="az_create_enrollment_group_01.png" width="500"/> <br/>
3. IoT Hub assignment
<br/>
<img src="images/azure/az_hub_assignment_to_g_enrollemtn.png" alt="az_hub_assignment_to_g_enrollemtn.png" width="500"/> <br/>
4. Optional Device Twin (DTw)
<br/>
<img src="images/azure/dtw-setup-in-enrollment-group.png" alt="dtw-setup-in-enrollment-group.png" width="500"/> <br/>
5. Once successfully created all the enrollments groups will be listed in the `Manage enrollments` section.
