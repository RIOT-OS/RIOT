#
# NXP Kinetis Freedom developer board
#
# OpenSDA is the on-board debugger, some boards have a CMSIS-DAP compatible
# interface, other boards comes pre-flashed with a Segger J-Link compatible
# firmware. The OpenSDA controller can be re-flashed to provide either of the two.
# Both interfaces work with OpenOCD, but we need to tell which one we have on
# our debugger.

# CMSIS-DAP (DAPLink) compatible OpenSDA firmware binary images can be found at:
# http://www.nxp.com/opensda

# Kinetis K series CPUs
source [find target/kx.cfg]

# The debug module is stopped in low leakage modes, we use connect_assert_srst
# to hold the device in reset while connecting with OpenOCD to make sure that we
# always get a connection even when the application uses low power modes.
reset_config srst_only connect_assert_srst

$_TARGETNAME configure -event gdb-attach {
  halt
}
$_TARGETNAME configure -rtos auto
