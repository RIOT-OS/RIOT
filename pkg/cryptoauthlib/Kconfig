# Copyright (c) 2022 Inria
#
# This file is subject to the terms and conditions of the GNU Lesser
# General Public License v2.1. See the file LICENSE in the top level
# directory for more details.
#

menuconfig PACKAGE_CRYPTOAUTHLIB
    bool "Microchip CryptoAuthentication Library package"
    depends on TEST_KCONFIG
    depends on !HAS_ARCH_EFM32
    depends on HAS_PERIPH_I2C
    select MODULE_AUTO_INIT_SECURITY
    select MODULE_CRYPTOAUTHLIB_CONTRIB

if PACKAGE_CRYPTOAUTHLIB

config MODULE_CRYPTOAUTHLIB_CONTRIB
    bool
    select ZTIMER_USEC
    select MODULE_PERIPH_I2C
    select MODULE_PERIPH_I2C_RECONFIGURE if HAS_PERIPH_I2C_RECONFIGURE

config MODULE_PSA_ATCA_DRIVER
    bool
    depends on PACKAGE_CRYPTOAUTHLIB
    default y if MODULE_PSA_CRYPTO
    select PSA_KEY_MANAGEMENT

config MODULE_CRYPTOAUTHLIB_TEST
    bool "Module for cryptoauthlib tests"
    depends on TEST_KCONFIG
    select MODULE_CRYPTOAUTHLIB_TEST_THIRD_PARTY_UNITY
    select MODULE_CRYPTOAUTHLIB_TEST_API_ATCAB
    select MODULE_CRYPTOAUTHLIB_TEST_API_CALIB
    select MODULE_CRYPTOAUTHLIB_TEST_API_CRYPTO
    select MODULE_CRYPTOAUTHLIB_TEST_VECTORS
    select MODULE_CRYPTOAUTHLIB_TEST_JWT
    select MODULE_CRYPTOAUTHLIB_TEST_TNG
    select MODULE_CRYPTOAUTHLIB_TEST_ATCACERT

config MODULE_CRYPTOAUTHLIB_TEST_JWT
    bool

config MODULE_CRYPTOAUTHLIB_TEST_TNG
    bool

config MODULE_CRYPTOAUTHLIB_TEST_ATCACERT
    bool

config MODULE_CRYPTOAUTHLIB_TEST_THIRD_PARTY_UNITY
    bool

config MODULE_CRYPTOAUTHLIB_TEST_API_ATCAB
    bool

config MODULE_CRYPTOAUTHLIB_TEST_API_CALIB
    bool

config MODULE_CRYPTOAUTHLIB_TEST_API_CRYPTO
    bool

config MODULE_CRYPTOAUTHLIB_TEST_VECTORS
    bool

endif # PACKAGE_CRYPTOAUTHLIB
