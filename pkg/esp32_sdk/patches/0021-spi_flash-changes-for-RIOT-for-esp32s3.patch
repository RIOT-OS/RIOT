From e9070f348535e5322b7139e47a51c3860ab28b6f Mon Sep 17 00:00:00 2001
From: Gunar Schorcht <gunar@schorcht.net>
Date: Fri, 8 Apr 2022 16:45:44 +0200
Subject: [PATCH 21/21] spi_flash: changes for RIOT for esp32s3

---
 components/spi_flash/spi_flash_timing_tuning.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/components/spi_flash/spi_flash_timing_tuning.c b/components/spi_flash/spi_flash_timing_tuning.c
index 8b2efd1450f..de8a0a60e93 100644
--- a/components/spi_flash/spi_flash_timing_tuning.c
+++ b/components/spi_flash/spi_flash_timing_tuning.c
@@ -20,7 +20,9 @@
 #include "esp32s3/rom/cache.h"
 #endif
 
+#ifndef ARRAY_SIZE
 #define ARRAY_SIZE(arr) (sizeof(arr)/sizeof(*(arr)))
+#endif
 
 #if SPI_TIMING_FLASH_NEEDS_TUNING || SPI_TIMING_PSRAM_NEEDS_TUNING
 const static char *TAG = "MSPI Timing";
-- 
2.17.1

