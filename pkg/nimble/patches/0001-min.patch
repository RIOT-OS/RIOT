From 0fd204993016792b6ae5dd7d6d998d7606216f47 Mon Sep 17 00:00:00 2001
From: chrysn <chrysn@fsfe.org>
Date: Tue, 24 Dec 2024 02:52:49 +0100
Subject: [PATCH] nimble/drivers: Avoid using undeclared min function

---
 nimble/drivers/nrf5x/src/ble_phy.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/nimble/drivers/nrf5x/src/ble_phy.c b/nimble/drivers/nrf5x/src/ble_phy.c
index f556f650..9e517ae3 100644
--- a/nimble/drivers/nrf5x/src/ble_phy.c
+++ b/nimble/drivers/nrf5x/src/ble_phy.c
@@ -518,7 +518,7 @@ ble_phy_rxpdu_copy(uint8_t *dptr, struct os_mbuf *rxpdu)
          * will have remaining non-word size bytes appended.
          */
         block_rem_len = copy_len;
-        copy_len = min(copy_len, rem_len);
+        copy_len = copy_len < rem_len ? copy_len : rem_len;
         copy_len &= ~3;
 
         dst = om->om_data;
-- 
2.45.2

