#ifndef STR2TEXT_H
#define STR2TEXT_H

#define get(str, i) (i < sizeof(str) ? str[i] : 0)

#define for_0(str) get(str, 0)
#define for_1(str) for_0(str), get(str, 1)
#define for_2(str) for_1(str), get(str, 2)
#define for_3(str) for_2(str), get(str, 3)
#define for_4(str) for_3(str), get(str, 4)
#define for_5(str) for_4(str), get(str, 5)
#define for_6(str) for_5(str), get(str, 6)
#define for_7(str) for_6(str), get(str, 7)
#define for_8(str) for_7(str), get(str, 8)
#define for_9(str) for_8(str), get(str, 9)
#define for_10(str) for_9(str), get(str, 10)
#define for_11(str) for_10(str), get(str, 11)
#define for_12(str) for_11(str), get(str, 12)
#define for_13(str) for_12(str), get(str, 13)
#define for_14(str) for_13(str), get(str, 14)
#define for_15(str) for_14(str), get(str, 15)
#define for_16(str) for_15(str), get(str, 16)
#define for_17(str) for_16(str), get(str, 17)
#define for_18(str) for_17(str), get(str, 18)
#define for_19(str) for_18(str), get(str, 19)
#define for_20(str) for_19(str), get(str, 20)
#define for_21(str) for_20(str), get(str, 21)
#define for_22(str) for_21(str), get(str, 22)
#define for_23(str) for_22(str), get(str, 23)
#define for_24(str) for_23(str), get(str, 24)
#define for_25(str) for_24(str), get(str, 25)
#define for_26(str) for_25(str), get(str, 26)
#define for_27(str) for_26(str), get(str, 27)
#define for_28(str) for_27(str), get(str, 28)
#define for_29(str) for_28(str), get(str, 29)
#define for_30(str) for_29(str), get(str, 30)
#define for_31(str) for_30(str), get(str, 31)
#define for_32(str) for_31(str), get(str, 32)
#define for_33(str) for_32(str), get(str, 33)
#define for_34(str) for_33(str), get(str, 34)
#define for_35(str) for_34(str), get(str, 35)
#define for_36(str) for_35(str), get(str, 36)
#define for_37(str) for_36(str), get(str, 37)
#define for_38(str) for_37(str), get(str, 38)
#define for_39(str) for_38(str), get(str, 39)
#define for_40(str) for_39(str), get(str, 40)
#define for_41(str) for_40(str), get(str, 41)
#define for_42(str) for_41(str), get(str, 42)
#define for_43(str) for_42(str), get(str, 43)
#define for_44(str) for_43(str), get(str, 44)
#define for_45(str) for_44(str), get(str, 45)
#define for_46(str) for_45(str), get(str, 46)
#define for_47(str) for_46(str), get(str, 47)
#define for_48(str) for_47(str), get(str, 48)
#define for_49(str) for_48(str), get(str, 49)
#define for_50(str) for_49(str), get(str, 50)
#define for_51(str) for_50(str), get(str, 51)
#define for_52(str) for_51(str), get(str, 52)
#define for_53(str) for_52(str), get(str, 53)
#define for_54(str) for_53(str), get(str, 54)
#define for_55(str) for_54(str), get(str, 55)
#define for_56(str) for_55(str), get(str, 56)
#define for_57(str) for_56(str), get(str, 57)
#define for_58(str) for_57(str), get(str, 58)
#define for_59(str) for_58(str), get(str, 59)
#define for_60(str) for_59(str), get(str, 60)
#define for_61(str) for_60(str), get(str, 61)
#define for_62(str) for_61(str), get(str, 62)
#define for_63(str) for_62(str), get(str, 63)
#define for_64(str) for_63(str), get(str, 64)
#define for_65(str) for_64(str), get(str, 65)
#define for_66(str) for_65(str), get(str, 66)
#define for_67(str) for_66(str), get(str, 67)
#define for_68(str) for_67(str), get(str, 68)
#define for_69(str) for_68(str), get(str, 69)
#define for_70(str) for_69(str), get(str, 70)
#define for_71(str) for_70(str), get(str, 71)
#define for_72(str) for_71(str), get(str, 72)
#define for_73(str) for_72(str), get(str, 73)
#define for_74(str) for_73(str), get(str, 74)
#define for_75(str) for_74(str), get(str, 75)
#define for_76(str) for_75(str), get(str, 76)
#define for_77(str) for_76(str), get(str, 77)
#define for_78(str) for_77(str), get(str, 78)
#define for_79(str) for_78(str), get(str, 79)
#define for_80(str) for_79(str), get(str, 80)
#define for_81(str) for_80(str), get(str, 81)
#define for_82(str) for_81(str), get(str, 82)
#define for_83(str) for_82(str), get(str, 83)
#define for_84(str) for_83(str), get(str, 84)
#define for_85(str) for_84(str), get(str, 85)
#define for_86(str) for_85(str), get(str, 86)
#define for_87(str) for_86(str), get(str, 87)
#define for_88(str) for_87(str), get(str, 88)
#define for_89(str) for_88(str), get(str, 89)
#define for_90(str) for_89(str), get(str, 90)
#define for_91(str) for_90(str), get(str, 91)
#define for_92(str) for_91(str), get(str, 92)
#define for_93(str) for_92(str), get(str, 93)
#define for_94(str) for_93(str), get(str, 94)
#define for_95(str) for_94(str), get(str, 95)
#define for_96(str) for_95(str), get(str, 96)
#define for_97(str) for_96(str), get(str, 97)
#define for_98(str) for_97(str), get(str, 98)
#define for_99(str) for_98(str), get(str, 99)
#define for_100(str) for_99(str), get(str, 100)
#define for_101(str) for_100(str), get(str, 101)
#define for_102(str) for_101(str), get(str, 102)
#define for_103(str) for_102(str), get(str, 103)
#define for_104(str) for_103(str), get(str, 104)
#define for_105(str) for_104(str), get(str, 105)
#define for_106(str) for_105(str), get(str, 106)
#define for_107(str) for_106(str), get(str, 107)
#define for_108(str) for_107(str), get(str, 108)
#define for_109(str) for_108(str), get(str, 109)
#define for_110(str) for_109(str), get(str, 110)
#define for_111(str) for_110(str), get(str, 111)
#define for_112(str) for_111(str), get(str, 112)
#define for_113(str) for_112(str), get(str, 113)
#define for_114(str) for_113(str), get(str, 114)
#define for_115(str) for_114(str), get(str, 115)
#define for_116(str) for_115(str), get(str, 116)
#define for_117(str) for_116(str), get(str, 117)
#define for_118(str) for_117(str), get(str, 118)
#define for_119(str) for_118(str), get(str, 119)
#define for_120(str) for_119(str), get(str, 120)
#define for_121(str) for_120(str), get(str, 121)
#define for_122(str) for_121(str), get(str, 122)
#define for_123(str) for_122(str), get(str, 123)
#define for_124(str) for_123(str), get(str, 124)
#define for_125(str) for_124(str), get(str, 125)
#define for_126(str) for_125(str), get(str, 126)
#define for_127(str) for_126(str), get(str, 127)
#define for_128(str) for_127(str), get(str, 128)
#define for_129(str) for_128(str), get(str, 129)
#define for_130(str) for_129(str), get(str, 130)
#define for_131(str) for_130(str), get(str, 131)
#define for_132(str) for_131(str), get(str, 132)
#define for_133(str) for_132(str), get(str, 133)
#define for_134(str) for_133(str), get(str, 134)
#define for_135(str) for_134(str), get(str, 135)
#define for_136(str) for_135(str), get(str, 136)
#define for_137(str) for_136(str), get(str, 137)
#define for_138(str) for_137(str), get(str, 138)
#define for_139(str) for_138(str), get(str, 139)
#define for_140(str) for_139(str), get(str, 140)
#define for_141(str) for_140(str), get(str, 141)
#define for_142(str) for_141(str), get(str, 142)
#define for_143(str) for_142(str), get(str, 143)
#define for_144(str) for_143(str), get(str, 144)
#define for_145(str) for_144(str), get(str, 145)
#define for_146(str) for_145(str), get(str, 146)
#define for_147(str) for_146(str), get(str, 147)
#define for_148(str) for_147(str), get(str, 148)
#define for_149(str) for_148(str), get(str, 149)
#define for_150(str) for_149(str), get(str, 150)
#define for_151(str) for_150(str), get(str, 151)
#define for_152(str) for_151(str), get(str, 152)
#define for_153(str) for_152(str), get(str, 153)
#define for_154(str) for_153(str), get(str, 154)
#define for_155(str) for_154(str), get(str, 155)
#define for_156(str) for_155(str), get(str, 156)
#define for_157(str) for_156(str), get(str, 157)
#define for_158(str) for_157(str), get(str, 158)
#define for_159(str) for_158(str), get(str, 159)
#define for_160(str) for_159(str), get(str, 160)
#define for_161(str) for_160(str), get(str, 161)
#define for_162(str) for_161(str), get(str, 162)
#define for_163(str) for_162(str), get(str, 163)
#define for_164(str) for_163(str), get(str, 164)
#define for_165(str) for_164(str), get(str, 165)
#define for_166(str) for_165(str), get(str, 166)
#define for_167(str) for_166(str), get(str, 167)
#define for_168(str) for_167(str), get(str, 168)
#define for_169(str) for_168(str), get(str, 169)
#define for_170(str) for_169(str), get(str, 170)
#define for_171(str) for_170(str), get(str, 171)
#define for_172(str) for_171(str), get(str, 172)
#define for_173(str) for_172(str), get(str, 173)
#define for_174(str) for_173(str), get(str, 174)
#define for_175(str) for_174(str), get(str, 175)
#define for_176(str) for_175(str), get(str, 176)
#define for_177(str) for_176(str), get(str, 177)
#define for_178(str) for_177(str), get(str, 178)
#define for_179(str) for_178(str), get(str, 179)
#define for_180(str) for_179(str), get(str, 180)
#define for_181(str) for_180(str), get(str, 181)
#define for_182(str) for_181(str), get(str, 182)
#define for_183(str) for_182(str), get(str, 183)
#define for_184(str) for_183(str), get(str, 184)
#define for_185(str) for_184(str), get(str, 185)
#define for_186(str) for_185(str), get(str, 186)
#define for_187(str) for_186(str), get(str, 187)
#define for_188(str) for_187(str), get(str, 188)
#define for_189(str) for_188(str), get(str, 189)
#define for_190(str) for_189(str), get(str, 190)
#define for_191(str) for_190(str), get(str, 191)
#define for_192(str) for_191(str), get(str, 192)
#define for_193(str) for_192(str), get(str, 193)
#define for_194(str) for_193(str), get(str, 194)
#define for_195(str) for_194(str), get(str, 195)
#define for_196(str) for_195(str), get(str, 196)
#define for_197(str) for_196(str), get(str, 197)
#define for_198(str) for_197(str), get(str, 198)
#define for_199(str) for_198(str), get(str, 199)
#define for_200(str) for_199(str), get(str, 200)
#define for_201(str) for_200(str), get(str, 201)
#define for_202(str) for_201(str), get(str, 202)
#define for_203(str) for_202(str), get(str, 203)
#define for_204(str) for_203(str), get(str, 204)
#define for_205(str) for_204(str), get(str, 205)
#define for_206(str) for_205(str), get(str, 206)
#define for_207(str) for_206(str), get(str, 207)
#define for_208(str) for_207(str), get(str, 208)
#define for_209(str) for_208(str), get(str, 209)
#define for_210(str) for_209(str), get(str, 210)
#define for_211(str) for_210(str), get(str, 211)
#define for_212(str) for_211(str), get(str, 212)
#define for_213(str) for_212(str), get(str, 213)
#define for_214(str) for_213(str), get(str, 214)
#define for_215(str) for_214(str), get(str, 215)
#define for_216(str) for_215(str), get(str, 216)
#define for_217(str) for_216(str), get(str, 217)
#define for_218(str) for_217(str), get(str, 218)
#define for_219(str) for_218(str), get(str, 219)
#define for_220(str) for_219(str), get(str, 220)
#define for_221(str) for_220(str), get(str, 221)
#define for_222(str) for_221(str), get(str, 222)
#define for_223(str) for_222(str), get(str, 223)
#define for_224(str) for_223(str), get(str, 224)
#define for_225(str) for_224(str), get(str, 225)
#define for_226(str) for_225(str), get(str, 226)
#define for_227(str) for_226(str), get(str, 227)
#define for_228(str) for_227(str), get(str, 228)
#define for_229(str) for_228(str), get(str, 229)
#define for_230(str) for_229(str), get(str, 230)
#define for_231(str) for_230(str), get(str, 231)
#define for_232(str) for_231(str), get(str, 232)
#define for_233(str) for_232(str), get(str, 233)
#define for_234(str) for_233(str), get(str, 234)
#define for_235(str) for_234(str), get(str, 235)
#define for_236(str) for_235(str), get(str, 236)
#define for_237(str) for_236(str), get(str, 237)
#define for_238(str) for_237(str), get(str, 238)
#define for_239(str) for_238(str), get(str, 239)
#define for_240(str) for_239(str), get(str, 240)
#define for_241(str) for_240(str), get(str, 241)
#define for_242(str) for_241(str), get(str, 242)
#define for_243(str) for_242(str), get(str, 243)
#define for_244(str) for_243(str), get(str, 244)
#define for_245(str) for_244(str), get(str, 245)
#define for_246(str) for_245(str), get(str, 246)
#define for_247(str) for_246(str), get(str, 247)
#define for_248(str) for_247(str), get(str, 248)
#define for_249(str) for_248(str), get(str, 249)
#define for_250(str) for_249(str), get(str, 250)
#define for_251(str) for_250(str), get(str, 251)
#define for_252(str) for_251(str), get(str, 252)
#define for_253(str) for_252(str), get(str, 253)
#define for_254(str) for_253(str), get(str, 254)
#define for_255(str) for_254(str), get(str, 255)
#define for_256(str) for_255(str), get(str, 256)

#define puts(str) String<for_256(str)>::_puts()
#define printf(str, ...) String<for_256(str)>::_puts(); dummy(__VA_ARGS__)

#ifdef LOG_INFO
#undef LOG_INFO
#endif
#define LOG_INFO(str, ...) String<for_256(str)>::_puts(); dummy(__VA_ARGS__)

template<typename ... ARGS>
inline void dummy(ARGS...) {}

template<char... ARGS>
struct String {
  static inline void _puts(void) {
  }
};

template<char C>
inline void _putchar(void) {
    putchar(C);
}

template<char FIRST, char... ARGS>
struct String<FIRST, ARGS...> {
  static inline void _puts(void) {
    _putchar<FIRST>();
    String<ARGS...>::_puts();
  }
};

template<char... ARGS>
struct String<0, ARGS...> {
  static inline void _puts(void) {
    putchar('\n');
  }
};

#endif//STR2TEXT_H
