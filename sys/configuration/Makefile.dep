DEFAULT_MODULE += auto_init_configuration

USEMODULE += fmt

ifneq (,$(filter configuration_backend_%,$(USEMODULE)))
  USEMODULE += configuration_backend
endif

ifneq (,$(filter configuration_backend_riotconf,$(USEMODULE)))
  USEMODULE += riotconf
endif

ifneq (,$(filter configuration_backend_flashdb%,$(USEMODULE)))
  # this backend needs strings
  USEMODULE += configuration_strings
  USEMODULE += configuration_backend_flashdb
  USEMODULE += flashdb_kvdb
  ifneq (,$(filter configuration_backend_flashdb_mtd,$(USEMODULE)))
    USEMODULE += flashdb_mtd
  endif
endif

ifneq (,$(filter configuration_strings,$(USEMODULE)))
  USEMODULE += configuration_handler_parent
endif

ifneq (,$(filter configuration_delta_encoding,$(USEMODULE)))
  USEMODULE += configuration_handler_parent
endif

ifneq (,$(filter configuration_delta_decoding,$(USEMODULE)))
  USEMODULE += configuration_handler_parent
endif

ifneq (,$(filter configuration_delta_encoding_decoding,$(USEMODULE)))
  USEMODULE += configuration_delta_encoding
  USEMODULE += configuration_delta_decoding
endif

ifneq (,$(filter configuration_key_subkey,$(USEMODULE)))
  USEMODULE += configuration_handler_parent
endif
